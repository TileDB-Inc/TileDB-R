<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tiledb">
<title>First Steps with TileDB • tiledb</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="First Steps with TileDB">
<meta property="og:description" content="tiledb">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tiledb</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.10.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/documentation.html">TileDB API Documentation</a>
    <a class="dropdown-item" href="../articles/introduction.html">First Steps with TileDB</a>
    <a class="dropdown-item" href="../articles/tiledb-mariadb-examples.html">TileDB and (R)MariaDB Examples</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/TileDB-Inc/TileDB-R/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">
<script src="introduction_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>First Steps with TileDB</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/TileDB-Inc/TileDB-R/blob/HEAD/vignettes/introduction.Rmd" class="external-link"><code>vignettes/introduction.Rmd</code></a></small>
      <div class="d-none name"><code>introduction.Rmd</code></div>
    </div>

    
    
<p>This document introduces TileDB via several simple examples. A corresponding document with more complete <a href="documentation.html">API documentation</a> is also available.</p>
<div class="section level1">
<h1 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h1>
<p>Once the TileDB R package is installed, it can be loaded via <code><a href="https://github.com/TileDB-Inc/TileDB-R" class="external-link">library(tiledb)</a></code>. Installation is supported for Windows, Linux and macOS via the <a href="https://cran.r-project.org/package=tiledb" class="external-link">official CRAN package</a>, on Linux and macOS via the <a href="https://anaconda.org/conda-forge" class="external-link">conda</a> package as well as from source.</p>
<p>Documentation for the TileDB R package is available via the <code>help()</code> function from within R as well as via the <a href="https://tiledb-inc.github.io/TileDB-R/" class="external-link">package documentation</a> and an [introductory notebook][tiledb_notebook]. Documentation about TileDB itself is <a href="https://docs.tiledb.com/main/" class="external-link">also available</a>.</p>
<p>Several “quickstart” examples that are discussed on the website are available in the <a href="https://github.com/TileDB-Inc/TileDB-R/tree/master/inst/examples" class="external-link">examples</a> directory. This vignette discusses similar examples.</p>
<p>In the following examples, the URIs describing arrays point to local file system object. When TileDB has been built with S3 support, and with proper AWS credentials in the usual environment variables, URIs such as <code>s3://some/data/bucket</code> can be used where a local file would be used. See the script <a href="https://github.com/TileDB-Inc/TileDB-R/blob/master/inst/examples/ex_S3.R" class="external-link">ex_S3.R</a> for an example.</p>
</div>
<div class="section level1">
<h1 id="dense-arrays">Dense Arrays<a class="anchor" aria-label="anchor" href="#dense-arrays"></a>
</h1>
<div class="section level2">
<h2 id="preliminaries">Preliminaries<a class="anchor" aria-label="anchor" href="#preliminaries"></a>
</h2>
<p>These illustrations use the array created by the file <a href="https://github.com/TileDB-Inc/TileDB-R/blob/master/inst/examples/ex_1.R" class="external-link">ex_1.R</a> which one can run from within R, or on the command-line. To follow along with discussion that follows, it helps to run the example once to create the array after possibly adjusting the array location path from its default value (using the current directory or, if set as an option, an override).</p>
</div>
<div class="section level2">
<h2 id="basic-reading-of-dense-arrays">Basic Reading of Dense Arrays<a class="anchor" aria-label="anchor" href="#basic-reading-of-dense-arrays"></a>
</h2>
<p>The file <a href="https://github.com/TileDB-Inc/TileDB-R/blob/master/inst/examples/ex_1.R" class="external-link">ex_1.R</a> in the examples directory is a simple yet complete example extending <a href="https://github.com/TileDB-Inc/TileDB-R/blob/master/inst/examples/quickstart_dense.R" class="external-link">quickstart_dense.R</a> by adding a second and third attribute. In this as well as the following examples we will use <code><a href="../reference/tiledb_array.html">tiledb_array()</a></code> to access the array; the older variants <code><a href="../reference/tiledb_dense.html">tiledb_dense()</a></code> and <code><a href="../reference/tiledb_sparse.html">tiledb_sparse()</a></code> remain supported but are deprecated and may be removed at some point in the future.</p>
<p><em>Read 1-D</em></p>
<p>The first example extracts rows 1 to 2 and column 2 from an array. It also limits the selection to just one attribute (via <code>attrs</code>), asks for the return to be a <code>data.frame</code> (instead of a simpler list) and for the (row and column, if present as here) indices to not be printed (via <code>extended=FALSE</code>).</p>
<pre><code>&gt; A &lt;- tiledb_array(uri = uri, attrs = "b",
+                   as.data.frame=TRUE, extended=FALSE))
&gt; A[1:2,2]
[1] 101.5 104.0
&gt;</code></pre>
<p>Note that the examples create three two-dimensional attributes. The attributes can be selected via the <code>attrs</code> argument, or the <code><a href="../reference/generics.html">attrs()</a></code> method on the array object. The square-bracket indexing then selects with in the 2-d attribute object.</p>
<p>If multiple objects are returned (as <code>list</code> or <code>data.frame</code>), subsetting on the returned object works via <code>[[var]]</code> or <code>$var</code>. A numeric index also works (but needs to account for <code>rows</code> and <code>cols</code>).</p>
<pre><code>&gt; A &lt;- tiledb_array(uri = uri, attrs = c("a","b"),
+                   as.data.frame = TRUE)
&gt; A[1:2,2][["a"]]
[1] 2 7
&gt; A[1:2,2]$a
[1] 2 7
&gt;</code></pre>
<p><em>Read 2-D</em></p>
<p>This works analogously. Note that the results are generally returned as vectors, or as a columns of a <code>data.frame</code> object in case that option was set.</p>
<pre><code>&gt; A[6:9,3:4]
$a
[1] 28 29 33 34 38 39 43 44

$b
[1] 114.5 115.0 117.0 117.5 119.5 120.0 122.0 122.5

$c
[1] "fox" "A"   "E"   "F"   "J"   "K"   "O"   "P"
&gt;</code></pre>
</div>
<div class="section level2">
<h2 id="read-2-d-with-attribute-selection">Read 2-D with attribute selection<a class="anchor" aria-label="anchor" href="#read-2-d-with-attribute-selection"></a>
</h2>
<p>We can restrict the selection to a subset of attributes when opening the array.</p>
<pre><code>&gt; A &lt;- tiledb_dense(uri = uri, attrs = c("b","c"),
+                   as.data.frame = TRUE, extended=FALSE)
&gt; A[6:9,2:4]
       b     c
1  114.0 brown
2  114.5   fox
3  115.0     A
4  116.5     D
5  117.0     E
6  117.5     F
7  119.0     I
8  119.5     J
9  120.0     K
10 121.5     N
11 122.0     O
12 122.5     P
&gt;</code></pre>
<p>This also illustrated the effect of setting <code>as.data.frame=TRUE</code> when opening the array.</p>
<p>This scheme can be generalized to variable cells, or cells where N&gt;1, as we can expand each (atomistic) value over corresponding row and column indices.</p>
<p>The column types correspond to the attribute typed in the array schema, subject to the constraint mentioned above on R types. (The char comes in as a factor variable as is still the R 3.6.* default which is about to change. We can also override, users can too.)</p>
<pre><code>&gt; A &lt;- tiledb_array("/tmp/tiledb/ex_1/", attrs=c("b","c"),
+                   as.data.frame = TRUE, extended=TRUE)
&gt; sapply(A[6:9, 3:4], "class")
       rows        cols           b           c
  "integer"   "integer"   "numeric" "character"
&gt;</code></pre>
<p>Consistent with the <code>data.frame</code> semantics, <em>now</em> requesting a named column <em>reduces to a vector</em> as this happens at the R side:</p>
<pre><code>&gt; A[6:9, 3:4]$b
[1] 114.5 115.0 117.0 117.5 119.5 120.0 122.0 122.5
&gt;</code></pre>
</div>
</div>
<div class="section level1">
<h1 id="sparse-arrays">Sparse Arrays<a class="anchor" aria-label="anchor" href="#sparse-arrays"></a>
</h1>
<div class="section level2">
<h2 id="basic-reading-and-writing-of-sparse-arrays">Basic Reading and Writing of Sparse Arrays<a class="anchor" aria-label="anchor" href="#basic-reading-and-writing-of-sparse-arrays"></a>
</h2>
<p><em>Simple Examples</em></p>
<p>Basic reading returns the coordinates and any attributes. The following examples use the array created by the <a href="https://github.com/TileDB-Inc/TileDB/blob/dev/examples/cpp_api/quickstart_sparse.cc" class="external-link">quickstart_sparse</a> example.</p>
<pre><code>&gt; A &lt;- tiledb_array(uri = uri, is.sparse = TRUE)
&gt; A[]
$rows
[1] 1 2 2

$cols
[1] 1 3 4

$a
[1] 1 3 2

&gt;</code></pre>
<p>We can also request a <code>data.frame</code> object, either when opening or by changing this object characteristic on the fly:</p>
<pre><code>&gt; return.data.frame(A) &lt;- TRUE
&gt; A[]
  a rows cols
1 1    1    1
2 3    2    3
3 2    2    4</code></pre>
<p>For sparse arrays, the return type is by default ‘extended’ showing rows and column but this can be overridden.</p>
<p>Assignment works similarly:</p>
<pre><code>&gt; A[4,2] &lt;- 42L
&gt; A[]
&gt; A[]
  rows cols  a
1    1    1  1
2    2    3  3
3    2    4  2
4    4    2 42
&gt;</code></pre>
<p>Reads can select rows and or columns:</p>
<pre><code>&gt; A[2,]
  rows cols a
1    2    3 3
2    2    4 2
&gt; A[,2]
  rows cols  a
1    4    2 42
&gt;</code></pre>
<p>Attributes can be selected similarly.</p>
</div>
<div class="section level2">
<h2 id="datetime-attributes">Date(time) Attributes<a class="anchor" aria-label="anchor" href="#datetime-attributes"></a>
</h2>
<p>Similar to the dense array case described earlier, the file <a href="https://github.com/TileDB-Inc/TileDB-R/blob/master/inst/examples/ex_2.R" class="external-link">ex_2.R</a> illustrates some basic operations on sparse arrays. It also shows date and datetime types instead of just integer and double precision floats.</p>
<pre><code>&gt; A &lt;- tiledb_array(uri = uri, as.data.frame = TRUE)
&gt; A[1577858403:1577858408]
        rows cols a   b          d                       e
1 1577858403    1 3 103 2020-01-11 2020-01-02 18:24:33.844
2 1577858404    1 4 104 2020-01-15 2020-01-05 02:28:36.214
3 1577858405    1 5 105 2020-01-19 2020-01-05 00:44:04.805
4 1577858406    1 6 106 2020-01-21 2020-01-06 12:58:51.770
5 1577858407    1 7 107 2020-01-25 2020-01-09 04:29:56.309
6 1577858408    1 8 108 2020-01-26 2020-01-07 13:55:10.240
&gt;</code></pre>
<p>The row coordinate is currently a floating point representation of the underlying time type. We can both select attributes (here we excluded the “a” column) and select rows by time (as the time stamps get converted to the required floating point value).</p>
<pre><code>&gt; attrs(A) &lt;- c("b", "d", "e")
&gt; A[as.POSIXct("2020-01-01"):as.POSIXct("2020-01-01 00:00:03")]
        rows cols   b          d                       e
1 1577858401    1 101 2020-01-05 2020-01-01 03:03:07.548
2 1577858402    1 102 2020-01-10 2020-01-02 21:02:19.747
3 1577858403    1 103 2020-01-11 2020-01-02 18:24:33.844
&gt;</code></pre>
<p>More extended examples are available showing indexing by date(time) as well as character dimension.</p>
</div>
</div>
<div class="section level1">
<h1 id="additional-information">Additional Information<a class="anchor" aria-label="anchor" href="#additional-information"></a>
</h1>
<p>The TileDB R package is documented via R help functions (<em>e.g.</em> <code><a href="../reference/tiledb_array.html">help("tiledb_array")</a></code> shows information for the <code><a href="../reference/tiledb_array.html">tiledb_array()</a></code> function) as well as via a <a href="https://tiledb-inc.github.io/TileDB-R/" class="external-link">website regrouping all documentation</a>. Extended <a href="https://tiledb-inc.github.io/TileDB-R/documentation.html" class="external-link">API documentation</a> is available, as is a <a href="https://github.com/TileDB-Inc/TileDB-R/tree/master/inst/examples" class="external-link">examples/</a> directory.</p>
<p>TileDB itself has extensive <a href="https://docs.tiledb.com/developer/installation" class="external-link">installation</a>, and <a href="https://docs.tiledb.com/developer/" class="external-link">overall documentation</a> as well as a <a href="https://forum.tiledb.com/" class="external-link">support forum</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://tiledb.com" class="external-link"><img src="https://github.com/TileDB-Inc/TileDB/raw/dev/doc/source/_static/tiledb-logo_color_no_margin_@4x.png" height="24"></a>, Dirk Eddelbuettel.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
