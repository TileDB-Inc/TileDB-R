<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tiledb">
<title>First Steps with TileDB • tiledb</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="First Steps with TileDB">
<meta property="og:description" content="tiledb">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tiledb</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.26.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Introduction</h6>
    <a class="dropdown-item" href="../articles/introduction.html">First Steps with TileDB</a>
    <a class="dropdown-item" href="../articles/installation-options.html">Installation Options for the TileDB R Package</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>API</h6>
    <a class="dropdown-item" href="../articles/documentation.html">TileDB API Documentation</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>SQL</h6>
    <a class="dropdown-item" href="../articles/data-ingestion-from-sql.html">Date Ingestion from SQL: A Commented Example</a>
    <a class="dropdown-item" href="../articles/tiledb-mariadb-examples.html">TileDB and (R)MariaDB Examples</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/TileDB-Inc/TileDB-R/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>First Steps with TileDB</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/TileDB-Inc/TileDB-R/blob/HEAD/vignettes/introduction.Rmd" class="external-link"><code>vignettes/introduction.Rmd</code></a></small>
      <div class="d-none name"><code>introduction.Rmd</code></div>
    </div>

    
    
<!--
%\VignetteIndexEntry{Introduction to TileDB}
%\VignetteEngine{simplermarkdown::mdweave_to_html}
%\VignetteEncoding{UTF-8}
-->
<p>This document introduces TileDB via several simple examples. A
corresponding document with more complete <a href="documentation.html">API documentation</a> is also available.</p>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>Once the TileDB R package is installed, it can be loaded via
<code><a href="https://github.com/TileDB-Inc/TileDB-R" class="external-link">library(tiledb)</a></code>. Installation is supported for Windows,
Linux and macOS via the <a href="https://cran.r-project.org/package=tiledb" class="external-link">official CRAN
package</a>, on Linux and macOS via the <a href="https://anaconda.org/conda-forge" class="external-link">conda</a> package as well as
from source.</p>
<p>Documentation for the TileDB R package is available via the
<code><a href="https://rdrr.io/r/utils/help.html" class="external-link">help()</a></code> function from within R as well as via the <a href="https://tiledb-inc.github.io/TileDB-R/" class="external-link">package documentation</a>
and an <a href="https://github.com/TileDB-Inc/TileDB-R/tree/master/inst/notebooks/" class="external-link">introductory
notebook</a>. Documentation about TileDB itself is <a href="https://docs.tiledb.com/main/" class="external-link">also available</a>.</p>
<p>Several “quickstart” examples that are discussed on the website are
available in the <a href="https://github.com/TileDB-Inc/TileDB-R/tree/master/inst/examples" class="external-link">examples</a>
directory. This vignette discusses similar examples.</p>
<p>In the following examples, the URIs describing arrays point to local
file system object. When TileDB has been built with S3 support, and with
proper AWS credentials in the usual environment variables, URIs such as
<code>s3://some/data/bucket</code> can be used where a local file would
be used. See the script <a href="https://github.com/TileDB-Inc/TileDB-R/blob/master/inst/examples/ex_S3.R" class="external-link">ex_S3.R</a>
for an example.</p>
</div>
<div class="section level2">
<h2 id="dense-arrays">Dense Arrays<a class="anchor" aria-label="anchor" href="#dense-arrays"></a>
</h2>
<div class="section level3">
<h3 id="preliminaries">Preliminaries<a class="anchor" aria-label="anchor" href="#preliminaries"></a>
</h3>
<p>These illustrations use the array created by the file <a href="https://github.com/TileDB-Inc/TileDB-R/blob/master/inst/examples/ex_1.R" class="external-link">ex_1.R</a>
which one can run from within R, or on the command-line. To follow along
with discussion that follows, it helps to run the example once to create
the array after possibly adjusting the array location path from its
default value (using the current directory or, if set as an option, an
override).</p>
</div>
<div class="section level3">
<h3 id="basic-reading-of-dense-arrays">Basic Reading of Dense Arrays<a class="anchor" aria-label="anchor" href="#basic-reading-of-dense-arrays"></a>
</h3>
<p>The file <a href="https://github.com/TileDB-Inc/TileDB-R/blob/master/inst/examples/ex_1.R" class="external-link">ex_1.R</a>
in the examples directory is a simple yet complete example extending <a href="https://github.com/TileDB-Inc/TileDB-R/blob/master/inst/examples/quickstart_dense.R" class="external-link">quickstart_dense.R</a>
by adding a second and third attribute. In this as well as the following
examples we will use <code><a href="../reference/tiledb_array.html">tiledb_array()</a></code> to access the array;
the older variants <code><a href="../reference/tiledb_array.html">tiledb_dense()</a></code> and
<code><a href="../reference/tiledb_array.html">tiledb_sparse()</a></code> remain supported but are deprecated and may
be removed at some point in the future.</p>
<p><em>Read 1-D</em></p>
<p>The first example extracts rows 1 to 2 and column 2 from an array. It
also limits the selection to just one attribute (via
<code>attrs</code>), asks for the return to be a <code>data.frame</code>
(instead of a simpler list) and for the (row and column, if present as
here) indices to not be printed (via <code>extended=FALSE</code>).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A <span class="ot">&lt;-</span> <span class="fu">tiledb_array</span>(<span class="at">uri =</span> uri, <span class="at">attrs =</span> <span class="st">"b"</span>,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                   <span class="at">return_as =</span> <span class="st">"data.frame"</span>, <span class="at">extended=</span><span class="cn">FALSE</span>)<span class="er">)</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="dv">2</span>]</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">101.5</span> <span class="fl">104.0</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>Note that the examples create three two-dimensional attributes. The
attributes can be selected via the <code>attrs</code> argument, or the
<code><a href="../reference/generics.html">attrs()</a></code> method on the array object. The square-bracket
indexing then selects with in the 2-d attribute object.</p>
<p>If multiple objects are returned (as <code>list</code> or
<code>data.frame</code>), subsetting on the returned object works via
<code>[[var]]</code> or <code>$var</code>. A numeric index also works
(but needs to account for <code>rows</code> and <code>cols</code>).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A <span class="ot">&lt;-</span> <span class="fu">tiledb_array</span>(<span class="at">uri =</span> uri, <span class="at">attrs =</span> <span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>),</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                   <span class="at">return_as =</span> <span class="st">"data.frame"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="dv">2</span>][[<span class="st">"a"</span>]]</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">7</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="dv">2</span>]<span class="sc">$</span>a</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">7</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p><em>Read 2-D</em></p>
<p>This works analogously. Note that the results are generally returned
as vectors, or as a columns of a <code>data.frame</code> object in case
that option was set.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[<span class="dv">6</span><span class="sc">:</span><span class="dv">9</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>a</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">28</span> <span class="dv">29</span> <span class="dv">33</span> <span class="dv">34</span> <span class="dv">38</span> <span class="dv">39</span> <span class="dv">43</span> <span class="dv">44</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>b</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">114.5</span> <span class="fl">115.0</span> <span class="fl">117.0</span> <span class="fl">117.5</span> <span class="fl">119.5</span> <span class="fl">120.0</span> <span class="fl">122.0</span> <span class="fl">122.5</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>c</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"fox"</span> <span class="st">"A"</span>   <span class="st">"E"</span>   <span class="st">"F"</span>   <span class="st">"J"</span>   <span class="st">"K"</span>   <span class="st">"O"</span>   <span class="st">"P"</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="read-2-d-with-attribute-selection">Read 2-D with attribute selection<a class="anchor" aria-label="anchor" href="#read-2-d-with-attribute-selection"></a>
</h3>
<p>We can restrict the selection to a subset of attributes when opening
the array.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A <span class="ot">&lt;-</span> <span class="fu">tiledb_dense</span>(<span class="at">uri =</span> uri, <span class="at">attrs =</span> <span class="fu">c</span>(<span class="st">"b"</span>,<span class="st">"c"</span>),</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                   <span class="at">return_as =</span> <span class="st">"data.frame"</span>, <span class="at">extended=</span><span class="cn">FALSE</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[<span class="dv">6</span><span class="sc">:</span><span class="dv">9</span>,<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>       b     c</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  <span class="fl">114.0</span> brown</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  <span class="fl">114.5</span>   fox</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  <span class="fl">115.0</span>     A</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  <span class="fl">116.5</span>     D</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  <span class="fl">117.0</span>     E</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  <span class="fl">117.5</span>     F</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>  <span class="fl">119.0</span>     I</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>  <span class="fl">119.5</span>     J</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>  <span class="fl">120.0</span>     K</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="fl">121.5</span>     N</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span> <span class="fl">122.0</span>     O</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span> <span class="fl">122.5</span>     P</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>This also illustrated the effect of setting
<code>as.data.frame=TRUE</code> when opening the array.</p>
<p>This scheme can be generalized to variable cells, or cells where
N&gt;1, as we can expand each (atomistic) value over corresponding row
and column indices.</p>
<p>The column types correspond to the attribute typed in the array
schema, subject to the constraint mentioned above on R types. (The char
comes in as a factor variable as is still the R 3.6.* default which is
about to change. We can also override, users can too.)</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A <span class="ot">&lt;-</span> <span class="fu">tiledb_array</span>(<span class="st">"/tmp/tiledb/ex_1/"</span>, <span class="at">attrs=</span><span class="fu">c</span>(<span class="st">"b"</span>,<span class="st">"c"</span>),</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                   <span class="at">return_as =</span> <span class="st">"data.frame"</span>, <span class="at">extended=</span><span class="cn">TRUE</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">sapply</span>(A[<span class="dv">6</span><span class="sc">:</span><span class="dv">9</span>, <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>], <span class="st">"class"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>       rows        cols           b           c</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"integer"</span>   <span class="st">"integer"</span>   <span class="st">"numeric"</span> <span class="st">"character"</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>Consistent with the <code>data.frame</code> semantics, <em>now</em>
requesting a named column <em>reduces to a vector</em> as this happens
at the R side:</p>
<pre><code>&gt; A[6:9, 3:4]$b
[1] 114.5 115.0 117.0 117.5 119.5 120.0 122.0 122.5
&gt;</code></pre>
</div>
</div>
<div class="section level2">
<h2 id="sparse-arrays">Sparse Arrays<a class="anchor" aria-label="anchor" href="#sparse-arrays"></a>
</h2>
<div class="section level3">
<h3 id="basic-reading-and-writing-of-sparse-arrays">Basic Reading and Writing of Sparse Arrays<a class="anchor" aria-label="anchor" href="#basic-reading-and-writing-of-sparse-arrays"></a>
</h3>
<p><em>Simple Examples</em></p>
<p>Basic reading returns the coordinates and any attributes. The
following examples use the array created by the <a href="https://github.com/TileDB-Inc/TileDB/blob/dev/examples/cpp_api/quickstart_sparse.cc" class="external-link">quickstart_sparse</a>
example.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A <span class="ot">&lt;-</span> <span class="fu">tiledb_array</span>(<span class="at">uri =</span> uri, <span class="at">is.sparse =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[]</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>rows</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>cols</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">3</span> <span class="dv">4</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>a</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>We can also request a <code>data.frame</code> object, either when
opening or by changing this object characteristic on the fly:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">return.data.frame</span>(A) <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  a rows cols</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">1</span>    <span class="dv">1</span>    <span class="dv">1</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">3</span>    <span class="dv">2</span>    <span class="dv">3</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">2</span>    <span class="dv">2</span>    <span class="dv">4</span></span></code></pre></div>
<p>For sparse arrays, the return type is by default ‘extended’ showing
rows and column but this can be overridden.</p>
<p>Assignment works similarly:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[<span class="dv">4</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> 42L</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[]</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[]</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  rows cols  a</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">1</span>    <span class="dv">1</span>  <span class="dv">1</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">2</span>    <span class="dv">3</span>  <span class="dv">3</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">2</span>    <span class="dv">4</span>  <span class="dv">2</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>    <span class="dv">2</span> <span class="dv">42</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>Reads can select rows and or columns:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[<span class="dv">2</span>,]</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  rows cols a</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">2</span>    <span class="dv">3</span> <span class="dv">3</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">2</span>    <span class="dv">4</span> <span class="dv">2</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[,<span class="dv">2</span>]</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  rows cols  a</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">2</span> <span class="dv">42</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>Attributes can be selected similarly.</p>
</div>
<div class="section level3">
<h3 id="datetime-attributes">Date(time) Attributes<a class="anchor" aria-label="anchor" href="#datetime-attributes"></a>
</h3>
<p>Similar to the dense array case described earlier, the file <a href="https://github.com/TileDB-Inc/TileDB-R/blob/master/inst/examples/ex_2.R" class="external-link">ex_2.R</a>
illustrates some basic operations on sparse arrays. It also shows date
and datetime types instead of just integer and double precision
floats.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A <span class="ot">&lt;-</span> <span class="fu">tiledb_array</span>(<span class="at">uri =</span> uri, <span class="at">return_as =</span> <span class="st">"data.frame"</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[<span class="dv">1577858403</span><span class="sc">:</span><span class="dv">1577858408</span>]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>        rows cols a   b          d                       e</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">1577858403</span>    <span class="dv">1</span> <span class="dv">3</span> <span class="dv">103</span> <span class="dv">2020-01-11</span> <span class="dv">2020-01-02</span> <span class="dv">18</span><span class="sc">:</span><span class="dv">24</span><span class="sc">:</span><span class="fl">33.844</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">1577858404</span>    <span class="dv">1</span> <span class="dv">4</span> <span class="dv">104</span> <span class="dv">2020-01-15</span> <span class="dv">2020-01-05</span> <span class="dv">02</span><span class="sc">:</span><span class="dv">28</span><span class="sc">:</span><span class="fl">36.214</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">1577858405</span>    <span class="dv">1</span> <span class="dv">5</span> <span class="dv">105</span> <span class="dv">2020-01-19</span> <span class="dv">2020-01-05</span> <span class="dv">00</span><span class="sc">:</span><span class="dv">44</span><span class="sc">:</span><span class="fl">04.805</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="dv">1577858406</span>    <span class="dv">1</span> <span class="dv">6</span> <span class="dv">106</span> <span class="dv">2020-01-21</span> <span class="dv">2020-01-06</span> <span class="dv">12</span><span class="sc">:</span><span class="dv">58</span><span class="sc">:</span><span class="fl">51.770</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="dv">1577858407</span>    <span class="dv">1</span> <span class="dv">7</span> <span class="dv">107</span> <span class="dv">2020-01-25</span> <span class="dv">2020-01-09</span> <span class="dv">04</span><span class="sc">:</span><span class="dv">29</span><span class="sc">:</span><span class="fl">56.309</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="dv">1577858408</span>    <span class="dv">1</span> <span class="dv">8</span> <span class="dv">108</span> <span class="dv">2020-01-26</span> <span class="dv">2020-01-07</span> <span class="dv">13</span><span class="sc">:</span><span class="dv">55</span><span class="sc">:</span><span class="fl">10.240</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>The row coordinate is currently a floating point representation of
the underlying time type. We can both select attributes (here we
excluded the “a” column) and select rows by time (as the time stamps get
converted to the required floating point value).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">attrs</span>(A) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"b"</span>, <span class="st">"d"</span>, <span class="st">"e"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> A[<span class="fu">as.POSIXct</span>(<span class="st">"2020-01-01"</span>)<span class="sc">:</span><span class="fu">as.POSIXct</span>(<span class="st">"2020-01-01 00:00:03"</span>)]</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>        rows cols   b          d                       e</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">1577858401</span>    <span class="dv">1</span> <span class="dv">101</span> <span class="dv">2020-01-05</span> <span class="dv">2020-01-01</span> <span class="dv">03</span><span class="sc">:</span><span class="dv">03</span><span class="sc">:</span><span class="fl">07.548</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">1577858402</span>    <span class="dv">1</span> <span class="dv">102</span> <span class="dv">2020-01-10</span> <span class="dv">2020-01-02</span> <span class="dv">21</span><span class="sc">:</span><span class="dv">02</span><span class="sc">:</span><span class="fl">19.747</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">1577858403</span>    <span class="dv">1</span> <span class="dv">103</span> <span class="dv">2020-01-11</span> <span class="dv">2020-01-02</span> <span class="dv">18</span><span class="sc">:</span><span class="dv">24</span><span class="sc">:</span><span class="fl">33.844</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>More extended examples are available showing indexing by date(time)
as well as character dimension.</p>
</div>
</div>
<div class="section level2">
<h2 id="additional-information">Additional Information<a class="anchor" aria-label="anchor" href="#additional-information"></a>
</h2>
<p>The TileDB R package is documented via R help functions
(<em>e.g.</em> <code><a href="../reference/tiledb_array.html">help("tiledb_array")</a></code> shows information for
the <code><a href="../reference/tiledb_array.html">tiledb_array()</a></code> function) as well as via a <a href="https://tiledb-inc.github.io/TileDB-R/" class="external-link">website regrouping all
documentation</a>. Extended <a href="https://tiledb-inc.github.io/TileDB-R/documentation.html" class="external-link">API
documentation</a> is available, as is a <a href="https://github.com/TileDB-Inc/TileDB-R/tree/master/inst/examples" class="external-link">examples/</a>
directory.</p>
<p>TileDB itself has extensive <a href="https://docs.tiledb.com/developer/installation" class="external-link">installation</a>,
and <a href="https://docs.tiledb.com/developer/" class="external-link">overall
documentation</a> as well as a <a href="https://forum.tiledb.com/" class="external-link">support forum</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://tiledb.com" class="external-link"><img src="https://github.com/TileDB-Inc/TileDB/raw/dev/doc/source/_static/tiledb-logo_color_no_margin_@4x.png" height="24"></a>, Dirk Eddelbuettel.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
