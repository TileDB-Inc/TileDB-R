<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a TileDB dense or sparse array from a given data.frame Object — fromDataFrame • tiledb</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a TileDB dense or sparse array from a given data.frame Object — fromDataFrame"><meta name="description" content="The supplied data.frame object is (currently) limited to integer,
numeric, or character. In addition, three datetime columns are supported
with the R representations of Date, POSIXct and nanotime."><meta property="og:description" content="The supplied data.frame object is (currently) limited to integer,
numeric, or character. In addition, three datetime columns are supported
with the R representations of Date, POSIXct and nanotime."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tiledb</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.30.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Introduction</h6></li>
    <li><a class="dropdown-item" href="../articles/introduction.html">First Steps with TileDB</a></li>
    <li><a class="dropdown-item" href="../articles/installation-options.html">Installation Options for the TileDB R Package</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>API</h6></li>
    <li><a class="dropdown-item" href="../articles/documentation.html">TileDB API Documentation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>SQL</h6></li>
    <li><a class="dropdown-item" href="../articles/data-ingestion-from-sql.html">Date Ingestion from SQL: A Commented Example</a></li>
    <li><a class="dropdown-item" href="../articles/tiledb-mariadb-examples.html">TileDB and (R)MariaDB Examples</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/TileDB-Inc/TileDB-R/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create a TileDB dense or sparse array from a given <code>data.frame</code> Object</h1>
      <small class="dont-index">Source: <a href="https://github.com/TileDB-Inc/TileDB-R/blob/HEAD/R/DataFrame.R" class="external-link"><code>R/DataFrame.R</code></a></small>
      <div class="d-none name"><code>fromDataFrame.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The supplied <code>data.frame</code> object is (currently) limited to integer,
numeric, or character. In addition, three datetime columns are supported
with the R representations of <code>Date</code>, <code>POSIXct</code> and <code>nanotime</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fromDataFrame</span><span class="op">(</span></span>
<span>  <span class="va">obj</span>,</span>
<span>  <span class="va">uri</span>,</span>
<span>  col_index <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sparse <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  allows_dups <span class="op">=</span> <span class="va">sparse</span>,</span>
<span>  cell_order <span class="op">=</span> <span class="st">"COL_MAJOR"</span>,</span>
<span>  tile_order <span class="op">=</span> <span class="st">"COL_MAJOR"</span>,</span>
<span>  filter <span class="op">=</span> <span class="st">"ZSTD"</span>,</span>
<span>  capacity <span class="op">=</span> <span class="fl">10000L</span>,</span>
<span>  tile_domain <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tile_extent <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ingest"</span>, <span class="st">"schema_only"</span>, <span class="st">"append"</span><span class="op">)</span>,</span>
<span>  filter_list <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  coords_filters <span class="op">=</span> <span class="st">"ZSTD"</span>,</span>
<span>  offsets_filters <span class="op">=</span> <span class="st">"ZSTD"</span>,</span>
<span>  validity_filters <span class="op">=</span> <span class="st">"RLE"</span>,</span>
<span>  debug <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  timestamps <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">double</a></span><span class="op">(</span><span class="op">)</span>, origin <span class="op">=</span> <span class="st">"1970-01-01"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-obj">obj<a class="anchor" aria-label="anchor" href="#arg-obj"></a></dt>
<dd><p>A <code>data.frame</code> object.</p></dd>


<dt id="arg-uri">uri<a class="anchor" aria-label="anchor" href="#arg-uri"></a></dt>
<dd><p>A character variable with an Array URI.</p></dd>


<dt id="arg-col-index">col_index<a class="anchor" aria-label="anchor" href="#arg-col-index"></a></dt>
<dd><p>An optional column index, either numeric with a column index,
or character with a column name, designating an index column; default is NULL
implying an index column is added when the array is created</p></dd>


<dt id="arg-sparse">sparse<a class="anchor" aria-label="anchor" href="#arg-sparse"></a></dt>
<dd><p>A logical switch to select sparse (the default) or dense</p></dd>


<dt id="arg-allows-dups">allows_dups<a class="anchor" aria-label="anchor" href="#arg-allows-dups"></a></dt>
<dd><p>A logical switch to select if duplicate values
are allowed or not, default is the same value as ‘sparse’.</p></dd>


<dt id="arg-cell-order">cell_order<a class="anchor" aria-label="anchor" href="#arg-cell-order"></a></dt>
<dd><p>A character variable with one of the TileDB cell order values,
default is “COL_MAJOR”.</p></dd>


<dt id="arg-tile-order">tile_order<a class="anchor" aria-label="anchor" href="#arg-tile-order"></a></dt>
<dd><p>A character variable with one of the TileDB tile order values,
default is “COL_MAJOR”.</p></dd>


<dt id="arg-filter">filter<a class="anchor" aria-label="anchor" href="#arg-filter"></a></dt>
<dd><p>A character variable vector, defaults to ‘ZSTD’, for
one or more filters to be applied to each attribute;</p></dd>


<dt id="arg-capacity">capacity<a class="anchor" aria-label="anchor" href="#arg-capacity"></a></dt>
<dd><p>A integer value with the schema capacity, default is 10000.</p></dd>


<dt id="arg-tile-domain">tile_domain<a class="anchor" aria-label="anchor" href="#arg-tile-domain"></a></dt>
<dd><p>An integer vector or list or <code>NULL</code>. If an integer vector
of size two it specifies the integer domain of the row dimension; if a list then a named
element is used for the dimension of the same name; or if <code>NULL</code> the row
dimension of the <code>obj</code> is used.</p></dd>


<dt id="arg-tile-extent">tile_extent<a class="anchor" aria-label="anchor" href="#arg-tile-extent"></a></dt>
<dd><p>An integer value for the tile extent of the row dimensions;
if <code>NULL</code> the row dimension of the <code>obj</code> is used. Note that the <code>tile_extent</code>
cannot exceed the tile domain.</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>A character variable with possible values ‘ingest’ (for schema creation and
data ingestion, the default behavior), ‘schema_only’ (to create the array schema without
writing to the newly-created array) and ‘append’ (to only append to an already existing
array).</p></dd>


<dt id="arg-filter-list">filter_list<a class="anchor" aria-label="anchor" href="#arg-filter-list"></a></dt>
<dd><p>A named list specifying filter choices per column, default is an empty
<code>list</code> object. This argument applies for all named arguments and the matchin dimensions
or attributes. The <code>filter</code> argument still applies for all unnamed arguments.</p></dd>


<dt id="arg-coords-filters">coords_filters<a class="anchor" aria-label="anchor" href="#arg-coords-filters"></a></dt>
<dd><p>A character vector with filters for coordinates, default is <code>ZSTD</code>.</p></dd>


<dt id="arg-offsets-filters">offsets_filters<a class="anchor" aria-label="anchor" href="#arg-offsets-filters"></a></dt>
<dd><p>A character vector with filters for coordinates, default is <code>ZSTD</code>.</p></dd>


<dt id="arg-validity-filters">validity_filters<a class="anchor" aria-label="anchor" href="#arg-validity-filters"></a></dt>
<dd><p>A character vector with filters for coordinates, default is <code>RLE</code>.</p></dd>


<dt id="arg-debug">debug<a class="anchor" aria-label="anchor" href="#arg-debug"></a></dt>
<dd><p>Logical flag to select additional output.</p></dd>


<dt id="arg-timestamps">timestamps<a class="anchor" aria-label="anchor" href="#arg-timestamps"></a></dt>
<dd><p>Vector with up to two <code>POSIXct</code> variables denoting open intervals; default
is length zero where start and end are set (implicitly) to current time; in case of one value it
is used as the interval end, and in case of two values they are taken as start and end. This
applies to write and append modes only and not to schema creation.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Null, invisibly.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The created (dense or sparse) array will have as many attributes as there
are columns in the <code>data.frame</code>.  Each attribute will be a single column.
For a sparse array, one or more columns have to be designated as dimensions.</p>
<p>At present, factor variable are converted to character.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">uri</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fromDataFrame</span><span class="op">(</span><span class="va">iris</span>, <span class="va">uri</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">arr</span> <span class="op">&lt;-</span> <span class="fu"><a href="tiledb_array.html">tiledb_array</a></span><span class="op">(</span><span class="va">uri</span>, return_as<span class="op">=</span><span class="st">"data.frame"</span>, extended<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">newdf</span> <span class="op">&lt;-</span> <span class="va">arr</span><span class="op">[</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">iris</span>, <span class="va">newdf</span>, check.attributes<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>  <span class="co"># extra attribute on query in newdf</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">newdf</span><span class="op">)</span><span class="op">)</span>  <span class="co"># also strips attribute</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://tiledb.com" class="external-link"><img src="https://github.com/TileDB-Inc/TileDB/raw/dev/doc/source/_static/tiledb-logo_color_no_margin_@4x.png" height="24"></a>, Dirk Eddelbuettel, Isaiah Norton.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

